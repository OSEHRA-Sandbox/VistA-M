DGBT1P35 ;ALB/KAR UPDATE FILE 8994 FOR RPCs WITH OUTPUT USED AS INPUT PARAMETERS ;1/23/19  12:04
 ;;1.0;Beneficiary Travel;**35**;08/28/2018;Build 18
 ;
 ;Post install routine to delete input parameters used as return variables.
 Q
 ;
POST ; post install action
 N XWBNAME,XWBRETNM
 S XWBNAME="DGBT CLAIM DEDUCTIBLE PAID",XWBRETNM="DGBTRET"
 D POST2(XWBNAME,XWBRETNM)
 W !,"1^Successfully deleted DGBTRET in DGBT CLAIM DEDUCTIBLE PAID"
 S XWBNAME="GMV PTSELECT",XWBRETNM="RESULT"
 D POST2(XWBNAME,XWBRETNM)
 W !,"1^Successfully deleted RESULT in GMV PTSELECT"
 S XWBNAME="PSB UTL XSTATUS SRCH",XWBRETNM="RESULTS"
 D POST2(XWBNAME,XWBRETNM)
 W !,"1^Successfully deleted RESULTS in PSB UTL XSTATUS SRCH"
 W !!,"1^All three RPCs successfully updated."
 Q
 ;
POST2(XWBNAME,XWBRETNM) ;
 N XWBI,XWBERR,XWBFDA,XWBIEN,XWBIENS
 S XWBIEN=0 S XWBIEN=$O(^XWB(8994,"B",XWBNAME,XWBIEN))
 S XWBI=0 F  S XWBI=$O(^XWB(8994,XWBIEN,2,XWBI)) Q:'XWBI  D
 .I $P($G(^XWB(8994,XWBIEN,2,XWBI,0)),U)=XWBRETNM D
 ..S XWBIENS=XWBI_","_XWBIEN_","
 ..S XWBFDA(8994.02,XWBIENS,.01)="@"
 ..D FILE^DIE(,"XWBFDA","XWBERR") I $G(XWBERR)'="" W !,"-1^Warning! Could not update file: "_$G(XWBERR)
 .Q
 Q
